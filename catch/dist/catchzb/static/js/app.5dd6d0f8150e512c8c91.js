webpackJsonp([15],{0:function(e,n,t){t("briU"),e.exports=t("NHnr")},"5OHe":function(e,n){},LqCf:function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("lC5x"),r=t.n(o),a=t("J0Oq"),c=t.n(a),i=t("VCXJ"),u=t("9rMa"),p={name:"app",computed:Object(u.b)({direction:function(e){return e.user.direction}})},s={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var d=t("8AGX")(p,s,!1,function(e){t("LqCf")},null,null).exports,l=t("zO6J"),f=t("rVsN"),m=t.n(f),h=t("gyMJ"),g={state:{user:{},coin:0,routerList:[],direction:"",musicStatus:!0},mutations:{setUser:function(e,n){e.user=n},setCoin:function(e,n){e.coin=n},changeRouterList:function(e,n){var t=e.routerList.indexOf(n),o=e.routerList.length;0!==o?-1===t?(e.routerList.push(n),e.direction="right"):(e.routerList.splice(t+1,o-t-1),e.direction="left"):e.routerList.push(n)},changeDirection:function(e,n){e.direction=n},changeMusicStatus:function(e,n){e.musicStatus=n}},actions:{getUser:function(e){var n=e.commit;return new m.a(function(e,t){Object(h.n)().then(function(t){n("setUser",t.response),n("setCoin",t.response.user_wallet.coin),e(t)}).catch(function(e){t(e)})})},gameStart:function(e,n){var t=e.commit;return new m.a(function(e,o){Object(h.g)(n).then(function(n){0===n.ret?(t("setCoin",n.response.coin),e(n)):o(n)}).catch(function(e){o(e)})})}}},k={state:{room:{}},mutations:{},actions:{}};i.default.use(u.a);var _=new u.a.Store({modules:{user:g,room:k}}),y=t("d2gY"),v=function(e){return Promise.all([t.e(0),t.e(12)]).then(function(){return e(t("wUZA"))}.bind(null,t)).catch(t.oe)},x=function(e){return Promise.all([t.e(0),t.e(5)]).then(function(){return e(t("uYtH"))}.bind(null,t)).catch(t.oe)};i.default.use(l.a);var w=new l.a({routes:[{path:"/index",component:function(e){return t.e(9).then(function(){return e(t("dAjm"))}.bind(null,t)).catch(t.oe)},children:[{path:"home",component:v},{path:"recharge",component:function(e){return t.e(6).then(function(){return e(t("1hE6"))}.bind(null,t)).catch(t.oe)}},{path:"my",component:function(e){return t.e(13).then(function(){return e(t("Zjg2"))}.bind(null,t)).catch(t.oe)}},{path:"dolllist",component:x}]},{path:"/room",component:function(e){return Promise.all([t.e(0),t.e(2)]).then(function(){return e(t("DjhF"))}.bind(null,t)).catch(t.oe)}},{path:"/home",component:v},{path:"/login",component:function(e){return t.e(7).then(function(){return e(t("K31e"))}.bind(null,t)).catch(t.oe)}},{path:"/dolllist",component:x},{path:"/exchangedolls",component:function(e){return Promise.all([t.e(0),t.e(8)]).then(function(){return e(t("n9S1"))}.bind(null,t)).catch(t.oe)}},{path:"/addresslistmanage",component:function(e){return Promise.all([t.e(0),t.e(4)]).then(function(){return e(t("qRCo"))}.bind(null,t)).catch(t.oe)}},{path:"/addressedit",component:function(e){return Promise.all([t.e(0),t.e(11)]).then(function(){return e(t("aNvP"))}.bind(null,t)).catch(t.oe)}},{path:"/order",component:function(e){return Promise.all([t.e(0),t.e(10)]).then(function(){return e(t("R7Pr"))}.bind(null,t)).catch(t.oe)}},{path:"/gamehistory",component:function(e){return Promise.all([t.e(0),t.e(3)]).then(function(){return e(t("kDcO"))}.bind(null,t)).catch(t.oe)}},{path:"/questions",component:function(e){return Promise.all([t.e(0),t.e(1)]).then(function(){return e(t("VSwg"))}.bind(null,t)).catch(t.oe)}},{path:"/",redirect:"/index/home"}]});w.beforeEach(function(e,n,t){_.commit("changeRouterList",e.path),t()});var S=w,b=t("iDdd"),O=t.n(b),P=t("ZoQJ"),U=function(){return new m.a(function(e,n){var t=P.a.getParamByName("open_id");if(t)P.a.SetCookie("open_id",t),window.location.href=P.a.funcUrlDel("open_id");else{if(P.a.GetCookie("open_id"))return void e();var o=document.URL;-1!==document.URL.indexOf("#")&&(o=document.URL.substring(0,document.URL.indexOf("#"))),window.location.href=y.a.url+"/h5/oauth/wechat?callback="+o+"&app_key="+y.a.app.app_key}})},L=t("Gw8d"),T=t.n(L);t("WRKP"),t("5OHe"),t("UAgs");i.default.config.productionTip=!1,O.a.attach(document.body),i.default.use(T.a),c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return e.next=4,Object(h.r)({open_id:y.a.open_id}).then(function(e){y.a.token=e.response.user_info.catch_token});case 4:_.dispatch("getUser"),new i.default({el:"#app",template:"<App/>",router:S,store:_,components:{App:d}});case 6:case"end":return e.stop()}},e,this)}))()},UAgs:function(e,n){var t,o,r,a,c;t=document,o=window,r=t.documentElement,a="orientationchange"in window?"orientationchange":"resize",c=function(){var e=r.clientWidth;e&&(r.style.fontSize=e/1080*100+"px")},t.addEventListener&&(o.addEventListener(a,c,!1),t.addEventListener("DOMContentLoaded",c,!1))},WRKP:function(e,n){},ZoQJ:function(e,n,t){"use strict";var o=t("3cXf"),r=t.n(o),a=t("ZLEe"),c=t.n(a),i=t("mgIi"),u=t.n(i);function p(e,n){localStorage.setItem(e,n)}function s(e){return localStorage.getItem(e)}n.a={getById:function(e){return document.getElementById(e)},getUUID:function(){if(s("UUID"))return s("UUID");var e;p("UUID",(e=(new Date).getTime(),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)})))},getRandom:function(e,n){return parseInt(Math.random()*(n-e+1)+e)},getRegisterAppSign:function(e,n,t,o,r,a){return n=unescape(n),console.log(e),console.log(n),console.log(t),console.log(o),console.log(r),console.log("app_device"+e+"app_key"+n+"nonce"+t+"timestamp"+o+"version_code"+r),console.log(u.a.HmacSHA256("app_device"+e+"app_key"+n+"nonce"+t+"timestamp"+o+"version_code"+r,a).toString().toLocaleUpperCase()),u.a.HmacSHA256("app_device"+e+"app_key"+n+"nonce"+t+"timestamp"+o+"version_code"+r,a).toString().toLocaleUpperCase()},getIotSign:function(e,n,t){return u.a.HmacSHA1("clientId"+e+"deviceName"+n.device_name+"productKey"+n.product_key+"timestamp"+t,n.device_secret).toString()},jsonToStr:function(e){var n="";if(c.a){var t=c()(e);for(var o in e)o!=t[t.length-1]?n+=o+"="+e[o]+"&":n+=o+"="+e[o]}else for(var o in e)n+=o+"="+e[o]+"&";return console.log(n),n},funcUrlDel:function(e){var n=window.location,t=n.origin+n.pathname,o=n.search.substr(1);if(o.indexOf(e)>-1){for(var a={},c=o.split("&"),i=0;i<c.length;i++)c[i]=c[i].split("="),a[c[i][0]]=c[i][1];return delete a[e],"{}"!==r()(a)&&(t+="?"),t+r()(a).replace(/[\"\{\}]/g,"").replace(/\:/g,"=").replace(/\,/g,"&")}},hideElement:function(e){for(var n=0;n<e.length;n++)e[n].style.display="none"},showElement:function(e){for(var n=0;n<e.length;n++)e[n].style.display="block"},setLocal:p,getLocal:s,getParamByName:function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(n);return null!=t?unescape(t[2]):null},GetCookie:function(e){var n,t=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(n=document.cookie.match(t))?unescape(n[2]):null},SetCookie:function(e,n){var t=new Date;t.setTime(t.getTime()+36e5),document.cookie=e+"="+escape(n)+";expires="+t.toGMTString()}}},d2gY:function(e,n,t){"use strict";var o=t("ZoQJ"),r=o.a.getRandom(1e5,999999),a=((new Date).getTime()/1e3).toFixed(0),c={url:-1!==document.URL.indexOf("catchme")?"http://front.catchme.com.cn":"http://front.5zhua.cn",jg:{appid:2741915952,server:"ws://test2-wsliveroom-api.zego.im:8181/ws",idName:""+(new Date).getTime()+Math.floor(1e5*Math.random()),nickName:"ly",logUrl:"ws://wsliveroom2741915952-api.zego.im:8181/log"},app:{secret:"0c9f89e19cu9oie9203f9faf863sb3",app_device:o.a.GetCookie("open_id")||o.a.getParamByName("open_id"),app_key:"kyx%2bkydm6A1nXQCnfi%2bPWusy%2f8We5HYh5QFlqVIUVfk%3d",nonce:r,timestamp:a,version_code:1e5},open_id:o.a.GetCookie("open_id")||o.a.getParamByName("open_id"),token:"",pageUrl:-1!=document.URL.indexOf("catchme")?"http://www.catchme.com.cn/":"http://www.5zhua.cn/"};n.a=c},gyMJ:function(e,n,t){"use strict";var o=t("aA9S"),r=t.n(o),a=t("3cXf"),c=t.n(a),i=t("hRKE"),u=t.n(i),p=t("ZLEe"),s=t.n(p),d=t("rVsN"),l=t.n(d),f=t("d2gY"),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new l.a(function(r,a){e=e.toUpperCase();var i=void 0;if(i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject,"GET"==e){var p="";s()(t).forEach(function(e){p+=e+"="+t[e]+"&"}),p=p.substr(0,p.lastIndexOf("&")),n=n+"?"+p,i.open(e,n,o),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send()}else"POST"==e?(i.open(e,n,o),"object"===(void 0===t?"undefined":u()(t))?(i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("Authorization","Bearer "+f.a.token),i.send(c()(t))):(i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(t))):a("error type");i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var e=i.response;if("object"!==(void 0===e?"undefined":u()(e)))try{e=JSON.parse(e)}catch(n){r(e)}r(e)}else a(i)}})},h=t("ZoQJ");t.d(n,"k",function(){return _}),t.d(n,"p",function(){return y}),t.d(n,"m",function(){return v}),t.d(n,"l",function(){return x}),t.d(n,"g",function(){return w}),t.d(n,"h",function(){return S}),t.d(n,"j",function(){return b}),t.d(n,"e",function(){return O}),t.d(n,"i",function(){return P}),t.d(n,"c",function(){return U}),t.d(n,"b",function(){return L}),t.d(n,"q",function(){return T}),t.d(n,"r",function(){return R}),t.d(n,"n",function(){return E}),t.d(n,"a",function(){return C}),t.d(n,"d",function(){return H}),t.d(n,"f",function(){return j}),t.d(n,"o",function(){return A});var g=-1!==document.URL.indexOf("catchme")?"http://proxy.catchme.com.cn/api/":"http://proxy.5zhua.cn/api/",k=-1!==document.URL.indexOf("catchme")?"http://core.catchme.com.cn/":"http://core.5zhua.cn/",_=function(e){return m("GET","http://106.15.41.49:8181/token",e)},y=function(e){return m("POST",k+"register_app",h.a.jsonToStr(e))},v=function(e){return m("POST",g+"get_room_list",e)},x=function(e){return m("POST",g+"get_room_info",e)},w=function(e){return m("POST",g+"game_start",e)},S=function(){return m("GET",g+"address/default",{app_key:f.a.app.app_key,token:f.a.token})},b=function(e){return m("GET",g+"doll",r()({},{app_key:f.a.app.app_key,token:f.a.token},e))},O=function(e){return m("POST",g+"doll/exorder/create",r()({},{app_key:unescape(f.a.app.app_key),token:f.a.token},e))},P=function(){return m("GET",g+"address",{app_key:f.a.app.app_key,token:f.a.token})},U=function(e){return console.log(r()({},{app_key:unescape(f.a.app.app_key),token:f.a.token},e)),m("POST",g+"address/delete",r()({},{app_key:unescape(f.a.app.app_key),token:f.a.token},e))},L=function(e){return m("POST",g+"address/create",r()({},{app_key:unescape(f.a.app.app_key)},e))},T=function(e){return m("POST",g+"address/update",r()({},{app_key:unescape(f.a.app.app_key),token:f.a.token},e))},R=function(e){return m("POST",g+"login",r()({},{app_key:unescape(f.a.app.app_key)},e))},E=function(e){return m("POST",g+"user_refresh",r()({},{app_key:unescape(f.a.app.app_key)},e))},C=function(e){return m("POST",g+"abandon_game",r()({},{app_key:unescape(f.a.app.app_key)},e))},H=function(e){return m("POST",g+"doll/order",r()({},{app_key:unescape(f.a.app.app_key)},e))},j=function(e){return m("GET",g+"game/record",r()({},{app_key:f.a.app.app_key,token:f.a.token},e))},A=function(e){return m("POST",g+"query_status",r()(r()({},{app_key:unescape(f.a.app.app_key)},e)))}}},[0]);
//# sourceMappingURL=app.5dd6d0f8150e512c8c91.js.map