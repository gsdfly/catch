webpackJsonp([2],{"+VwD":function(t,e,o){t.exports=o.p+"static/media/ready_go.1a9c888.mp3"},"/rOG":function(t,e){},"/yEk":function(t,e,o){t.exports=o.p+"static/img/room_image_ready.a80a781.png"},"8Zty":function(t,e){t.exports="data:audio/mpeg;base64,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AFTr/MKCNMRhMMGRlBgEosy//8f/44LEOGZrxlGpnegAQpAwymEQxqPAQDyIAHPL6//+Yqk0ZDjEYmE2JFwCBhkMNSmzEf//8wXBIw7JYydD4KgCDRKMTQMSpdxjK0YRBv///6D4IAgYHExFF4BCuY5HaYdhc7MwvFlMsXywH////zBoNzDwWwCBJhwCYNA0wNA0xyH0waFgoDB1GyspiChrgxRlTSv/////zE0LDF44zCULjAUBTFgszBUETF4KzB8OgoDoAEAyRL4wHCKRwy4M43FaMOQHKb2Vn///////8aDcxcOsxPEwwIDsxEDsxCI0w6JIz3MAyTMYw9FMzIVsRj+Z4FuYIlMYfFjDyRqtrySKGYaS1TleBDira/j1wz/////////+ZbASZcmwYFEOZeB6ZbpIYsH+a3MCa7OeZrr8awosZtjUYehEYmDWYkEGZCnYZynoaDkYYziMYJGsb+w5DSMrgxxnstXcKAGymCkdWUwUjq5LKhABKJqIQwCNTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+OCxAAAAANIAcAAAExBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ=="},DjhF:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("3cXf"),s=o.n(i),a=o("lC5x"),n=o.n(a),c=o("J0Oq"),A=o.n(c),r=o("d2gY"),V=o("gyMJ"),l=o("ZoQJ"),p=(o("mgIi"),{name:"mqttws",data:function(){return{isClick:"",timeout:{},startTime:0,endTime:0,reconnectTimeout:2e3,client:{},broadcast:"/broadcast/"+this.appControl.product_key+"/"+this.roomId,gainTopic:"/"+this.appControl.product_key+"/"+this.appControl.device_name+"/get",sendTopic:"/"+this.appControl.product_key+"/"+this.appControl.device_name+"/control_test",options:{userName:this.appControl.device_name+"&"+this.appControl.product_key,password:l.a.getIotSign(this.roomId,this.appControl,r.a.app.timestamp),onSuccess:this.onConnect,onFailure:this.onFailure,reconnect:!0}}},props:["appControl","roomId","view","gameTime","gameEnd","status"],created:function(){2!==this.status&&this.MQTTconnect()},methods:{MQTTconnect:function(){this.client=new Paho.MQTT.Client(this.appControl.product_key+".iot-as-mqtt.cn-shanghai.aliyuncs.com",Number(443),this.roomId+"|securemode=3,signmethod=hmacsha1,timestamp="+r.a.app.timestamp+"|"),this.client.connect(this.options),this.client.onConnectionLost=this.onConnectionLost,this.client.onMessageArrived=this.onMessageArrived},onConnectionLost:function(t){0!==t.errorCode&&console.log("onConnectionLost:"+t.errorMessage)},onMessageArrived:function(t){this.$emit("iotMessage",t.payloadString)},onConnect:function(){console.log("onConnected"),this.client.subscribe(this.broadcast),this.client.subscribe(this.gainTopic)},onFailure:function(t){console.log(t)},closeMqtt:function(){this.client.connect&&(this.client.disconnect(),console.log("关闭mqtt连接"))},gameStop:function(t){console.log("22222"),this.isClick="",this.endTime=((new Date).getTime()/1e3).toFixed(0);var e=new Paho.MQTT.Message(s()({TargetDevice:this.roomId,MsgType:"control",Data:{protocol:"remote_move",data:{left:"left"===t?2:0,right:"right"===t?2:0,forward:"forward"===t?2:0,back:"back"===t?2:0}}}));e.destinationName=this.sendTopic,this.endTime-this.startTime==0?(console.log("33333"),setTimeout(function(){this.client.send(e)}.bind(this),200)):this.client.send(e)},gameMove:function(t){switch(this.$emit("playMusic",".moving"),t){case"left":this.isClick="left";break;case"right":this.isClick="right";break;case"forward":this.isClick="forward";break;case"back":this.isClick="back"}this.startTime=((new Date).getTime()/1e3).toFixed(0),console.log("1111");var e=new Paho.MQTT.Message(s()({TargetDevice:this.roomId,MsgType:"control",Data:{protocol:"remote_move",data:{left:"left"===t?1:0,right:"right"===t?1:0,forward:"forward"===t?1:0,back:"back"===t?1:0}}}));e.destinationName=this.sendTopic,this.client.send(e)},gameCatch:function(){var t=this;this.$emit("playMusic",".after_catch"),console.log("ddddd"),this.isClick="catch";var e=new Paho.MQTT.Message(s()({TargetDevice:this.roomId,MsgType:"control",Data:{protocol:"remote_catch",data:{catch_force:0}}}));e.destinationName=this.sendTopic,this.client.send(e),this.$emit("clearInter"),this.timeout=setTimeout(function(){console.log("gameEnd-----"+t.gameEnd),t.gameEnd||Object(V.o)({room_id:t.roomId}).then(function(e){console.log(e),0===e.response.is_playing?t.$emit("gameFinish",'{"msg_body":{"protocol":"game_finish","data":{"expire":'+e.response.expire+"}}}"):t.$emit("getRoomInfo")})},1e4)},stopCatch:function(){this.isClick=""},clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){console.log(s()(this.timeout)),"{}"!==s()(this.timeout)&&clearTimeout(this.timeout)})}}),u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"index2"},[t._m(0),t._v(" "),t._m(1),t._v(" "),o("div",{staticClass:"gameOperation"},["front"===t.view?o("div",[o("button",{staticClass:"forward",class:{forwardclick:"forward"===t.isClick},on:{touchstart:function(e){e.preventDefault(),e.stopPropagation(),t.gameMove("forward")},touchend:function(e){t.gameStop("forward")}}},[t._v("前\n      ")]),t._v(" "),o("button",{staticClass:"back",class:{backclick:"back"===t.isClick},on:{touchstart:function(e){e.preventDefault(),e.stopPropagation(),t.gameMove("back")},touchend:function(e){t.gameStop("back")}}},[t._v("后\n      ")]),t._v(" "),o("button",{staticClass:"left",class:{leftclick:"left"===t.isClick},on:{touchstart:function(e){e.preventDefault(),e.stopPropagation(),t.gameMove("left")},touchend:function(e){t.gameStop("left")}}},[t._v("左\n      ")]),t._v(" "),o("button",{staticClass:"right",class:{rightclick:"right"===t.isClick},on:{touchstart:function(e){e.preventDefault(),e.stopPropagation(),t.gameMove("right")},touchend:function(e){t.gameStop("right")}}},[t._v("右\n      ")])]):o("div",[o("button",{staticClass:"forward",class:{forwardclick:"forward"===t.isClick},on:{touchstart:function(e){e.preventDefault(),e.stopPropagation(),t.gameMove("forward")},touchend:function(e){t.gameStop("forward")}}},[t._v("前\n      ")]),t._v(" "),o("button",{staticClass:"back",class:{backclick:"back"===t.isClick},on:{touchstart:function(e){e.preventDefault(),e.stopPropagation(),t.gameMove("back")},touchend:function(e){t.gameStop("back")}}},[t._v("后\n      ")]),t._v(" "),o("button",{staticClass:"right",class:{rightclick:"right"===t.isClick},on:{touchstart:function(e){e.preventDefault(),e.stopPropagation(),t.gameMove("right")},touchend:function(e){t.gameStop("right")}}},[t._v("左\n      ")]),t._v(" "),o("button",{staticClass:"left",class:{leftclick:"left"===t.isClick},on:{touchstart:function(e){e.preventDefault(),e.stopPropagation(),t.gameMove("left")},touchend:function(e){t.gameStop("left")}}},[t._v("右\n      ")])]),t._v(" "),o("button",{staticClass:"catch",class:{catchclick:"catch"===t.isClick},on:{touchstart:function(e){e.preventDefault(),e.stopPropagation(),t.gameCatch(e)},touchend:t.stopCatch}},[t._v("GO\n    ")]),t._v(" "),o("p",{staticClass:"countDown"},[t._v(t._s(t.gameTime)+"'")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{staticClass:"moving"},[e("source",{attrs:{src:o("8Zty"),type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{staticClass:"after_catch"},[e("source",{attrs:{src:o("FYap"),type:"audio/mp3"}})])}]};var h=o("8AGX")(p,u,!1,function(t){o("/rOG")},"data-v-65016757",null).exports,m=o("9rMa"),d=o("wSez"),g={name:"room",beforeRouteLeave:function(t,e,o){var i=this;-1!==t.path.indexOf("questions")||-1!==t.path.indexOf("dolllist")||-1!==t.path.indexOf("recharge")?(console.log("111"),this.quitRoom(),o()):this.start?d.MessageBox.confirm("当前正在游戏中,确定要退出房间吗？","").then(function(t){i.gameEnd=!0,setTimeout(A()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.$refs.mqtt.gameCatch(),t.next=3,Object(V.a)({room_id:i.roomId});case 3:i.quitRoom(),o();case 5:case"end":return t.stop()}},t,i)})),0)}).catch(function(t){history.forward()}):d.MessageBox.confirm("确定要退出房间吗？","").then(function(t){i.quitRoom(),o()}).catch(function(t){history.forward()})},data:function(){return{start:!1,token:"",showTip:!1,countDown:10,price:1,zg:{},appControl:{},view:"front",roomId:"",roomInfo:{},tipContent:"",gameTime:30,gameEnd:!1,gameTotalTime:30,streamList:[],after:!1,inter:{},inter2:{},showContent:!0,roomOnline:{count:0,user_list:[]}}},computed:Object(m.b)({user:function(t){return t.user.user},coin:function(t){return t.user.coin},musicStatus:function(t){return t.user.musicStatus}}),components:{mqttws:h},created:function(){var t=this;this.roomId=this.$route.query.roomId,this.roomInfo.status=this.$route.query.status,Object(V.p)({app_device:r.a.app.app_device,app_key:r.a.app.app_key,nonce:r.a.app.nonce,timestamp:r.a.app.timestamp,version_code:r.a.app.version_code,sign:l.a.getRegisterAppSign(r.a.app.app_device,r.a.app.app_key,r.a.app.nonce,r.a.app.timestamp,r.a.app.version_code,r.a.app.secret)}).then(function(e){t.appControl=e.data}),this.init(),Object(V.k)({app_id:r.a.jg.appid,id_name:r.a.jg.idName}).then(function(e){t.token=e,t.doLogin()}),this.getRoomInfo()},mounted:function(){this.initScreen()},methods:{test:function(){this.gameEnd=!0},playMusic:function(t){var e=document.querySelector(t);e&&e.play()},stopMusic:function(t){var e=document.querySelector(t);e&&(e.pause(),e.currentTime=0)},quitRoom:function(){this.$refs.mqtt.closeMqtt(),2!==this.roomInfo.status&&(this.zg.stopPlayingStream(this.streamList[0].stream_id),this.zg.stopPlayingStream(this.streamList[1].stream_id),this.zg.logout())},init:function(){this.zg=new ZegoClient,this.zg.config({appid:r.a.jg.appid,idName:r.a.jg.idName,nickName:r.a.jg.nickName,server:r.a.jg.server,logLevel:1,logUrl:""})},doLogin:function(){this.zg.login(this.roomId,0,this.token,function(t){console.log("login sucess - data = ",t),this.streamList=t,this.zg.startPlayingStream(t[0].stream_id,l.a.getById("frontview")),this.zg.startPlayingStream(t[1].stream_id,l.a.getById("sideview")),this.showContent=!1}.bind(this),function(t){console.log("login error - data = ",t)})},initScreen:function(){navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)||(document.getElementsByTagName("html")[0].style.width="375px",document.getElementsByTagName("html")[0].style.maxHeight="690px");var t=document.querySelector(".view-wrapper"),e=document.querySelector(".view-wrapper2"),o=document.querySelector(".footer2"),i=1.33*t.clientWidth,s=document.body.clientHeight-i,a=document.getElementsByTagName("html")[0].style.fontSize,n=a.indexOf("p"),c=.3*Number(a.substr(0,n));t.style.height=i+"px",e.style.height=i+"px",o.style.height=s-c+"px"},switchView:function(){"front"===this.view?this.view="side":this.view="front"},startGame:function(){var t=this;this.gameEnd=!1,this.$refs.mqtt.clearTimeout(),this.$store.dispatch("gameStart",{room_id:this.roomId,app_device:r.a.app.app_device,app_key:unescape(r.a.app.app_key)}).then(function(e){console.log(e),console.log("开始游戏成功："+s()(e)),t.playMusic(".background_music"),t.playMusic(".ready_go"),t.start=!0,t.roomInfo={status:2},t.gameTotalTime=e.response.expire,t.gameTime=e.response.expire,t.inter=setInterval(function(){var t=this;this.gameTime--,0===this.gameTime&&(this.$refs.mqtt.gameCatch(),setTimeout(function(){t.$refs.mqtt.stopCatch()},0),clearInterval(this.inter))}.bind(t),1e3)}).catch(function(t){console.log("开始游戏失败："+s()(t)),Object(d.Toast)({message:t.msg,position:"bottom"})})},continueGame:function(){clearInterval(this.inter2),this.startGame(),this.closeTip()},getRoomInfo:function(){var t=this;Object(V.l)({room_id:this.roomId,app_key:unescape(r.a.app.app_key),app_device:r.a.app.app_device}).then(function(e){console.log(e),t.roomInfo=e.response,t.roomOnline.count=e.response.online_count,console.log("---------------"+t.roomOnline.count),t.roomOnline.user_list=e.response.user_list,t.price=e.response.price}).catch(function(t){alert("错误信息"+s()(t))})},roomChange:function(t){t=JSON.parse(t),console.log("---------------------------------"),console.log(t),console.log("---------------------------------");var e=t.msg_body;console.log(e),"update_room_online"===e.protocol?(console.log("更新房间当前人员信息"),this.roomOnline=e.data):"room_idle"===e.protocol?(console.log("通知所有用户当前房间已经闲置"),this.roomInfo={status:0},this.start=!1):"game_finish"===e.protocol?(this.playMusic(".catch_failed"),this.gameEnd=!0,this.countDown=e.data.expire,setTimeout(function(){""===this.tipContent&&(console.log("通知当前玩的用户游戏已经结束"),this.showTip=!0,this.tipContent="tip1",this.inter2=setInterval(function(){this.countDown--,0===this.countDown&&this.abandonGame()}.bind(this),1e3),this.gameTime=this.gameTotalTime,console.log("游戏结束"))}.bind(this),1e3)):"gift_change"===e.protocol?(this.playMusic(".catch_success"),console.log("通知当前玩的用户礼品掉落"),this.gameEnd=!0,this.after=!1,this.showTip=!0,this.tipContent="tip2",this.inter2=setInterval(function(){var t=this;this.countDown--,0===this.countDown&&(this.after=!0,Object(V.a)({room_id:this.roomId}).then(function(e){t.start=!1,t.roomInfo={status:0},clearInterval(t.inter2)}))}.bind(this),1e3),console.log("恭喜你抓到娃娃")):"update_playing"===e.protocol&&(console.log("更新当前玩游戏人员信息"),console.log("更新当前游戏人员"),this.roomInfo=e.data,this.roomInfo.status=1)},abandonGame:function(){var t=this;Object(V.a)({room_id:this.roomId}).then(function(e){t.stopMusic(".background_music"),console.log(e),t.closeTip(),t.start=!1,t.roomInfo={status:0},clearInterval(t.inter2)})},closeTip:function(){this.showTip=!1,this.tipContent=""},goDolllist:function(){this.abandonGame(),this.$router.push("/index/dolllist")},clearInter:function(){clearInterval(this.inter)},goQuestions:function(){this.$router.push("/questions")},goRecharge:function(){this.$router.push("/index/recharge")}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"room"},[t.musicStatus?i("div",[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5)]):t._e(),t._v(" "),i("div",{staticClass:"header"},[i("i",{staticClass:"iconfont"}),t._v(" "),i("div",{staticClass:"roomusers"},[i("div",[i("div",{staticClass:"users"},[i("h3",[t._v(t._s(t.roomOnline.count)+"人")]),t._v(" "),i("p",[t._v("在房间")])]),t._v(" "),t._l(t.roomOnline.user_list.slice(0,3),function(t,e){return i("img",{attrs:{src:t.avatar,alt:""}})})],2)])]),t._v(" "),i("div",{staticClass:"main"},[i("i",{staticClass:"iconfont icon-question",on:{click:function(e){t.goQuestions()}}}),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"view-wrapper front",attrs:{id:"view-wrapper"}},[i("div",{staticClass:"switch-btn",attrs:{id:"switch-btn","data-switch":"1"},on:{click:t.switchView}}),t._v(" "),i("div",{staticClass:"frontview-wrapper",class:{high:"front"===t.view}},[i("canvas",{attrs:{id:"frontview"}})]),t._v(" "),i("div",{staticClass:"sideview-wrapper",class:{high:"side"===t.view}},[i("canvas",{attrs:{id:"sideview"}})]),t._v(" "),i("p",{staticStyle:{position:"absolute",right:"0.36rem",top:"0","line-height":"0.5rem",background:"#fff","z-index":"999",padding:"0 0.3rem"}},[t._v("在线："+t._s(t.roomOnline.count))])])]),t._v(" "),t.showContent?i("div",{staticClass:"content2"},[i("div",{staticClass:"view-wrapper2"},[2!==t.roomInfo.status?i("p",[t._v("游戏准备中...")]):i("p",[t._v("当前房间处于离线状态，请更换房间")]),t._v(" "),i("img",{attrs:{src:o("/yEk"),alt:""}})])]):t._e()]),t._v(" "),i("div",{staticClass:"footer footer2"},[0!==t.roomInfo.status||t.start?t._e():i("div",{staticClass:"status status-free"},[i("button",{on:{click:t.startGame}},[t._v("开始游戏"),i("span",[t._v(t._s(t.price)+"币/次")])]),t._v(" "),i("div",{staticClass:"recharge"},[i("p",[t._v("我的金币")]),t._v(" "),i("p",[t._v(t._s(t.coin))]),t._v(" "),i("button",{on:{click:t.goRecharge}},[i("span",[t._v("+")]),t._v("充值")])])]),t._v(" "),1!==t.roomInfo.status||t.start?t._e():i("div",{staticClass:"status status-busy"},[i("div",{staticClass:"gameuser"},[i("img",{attrs:{src:t.roomInfo.avatar,alt:""}}),t._v(" "),i("div",[i("h3",[i("span",[t._v(t._s(t.roomInfo.nickname))]),t._v("游戏中")]),t._v(" "),i("p",[t._v(t._s(t.price)+"币/次")])])]),t._v(" "),i("div",{staticClass:"recharge"},[i("p",[t._v("我的金币")]),t._v(" "),i("p",[t._v(t._s(t.coin))]),t._v(" "),i("button",{on:{click:t.goRecharge}},[i("span",[t._v("+")]),t._v("充值")])])]),t._v(" "),t.appControl.product_key?i("div",{directives:[{name:"show",rawName:"v-show",value:t.start,expression:"start"}],staticClass:"status status-control"},[i("mqttws",{ref:"mqtt",attrs:{appControl:t.appControl,roomId:t.roomId,view:t.view,status:t.roomInfo.status,gameTime:t.gameTime,gameEnd:t.gameEnd},on:{iotMessage:t.roomChange,clearInter:t.clearInter,gameFinish:t.roomChange,getRoomInfo:t.getRoomInfo,playMusic:t.playMusic}})],1):t._e()]),t._v(" "),t.showTip?i("div",{staticClass:"bg"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"tip1"===t.tipContent,expression:"tipContent === 'tip1'"}],staticClass:"tip tip1"},[i("h3",[t._v("差点儿就抓到了")]),t._v(" "),i("img",{attrs:{src:o("KjHb"),alt:""}}),t._v(" "),i("p",[t._v("还有"+t._s(t.coin)+"个币，是否再来一局？")]),t._v(" "),i("ul",{staticClass:"tip-bottom"},[i("li",{on:{click:t.abandonGame}},[t._v("稍后再试")]),t._v(" "),i("li",{on:{click:t.continueGame}},[i("span",[t._v("再来一局（"),i("i",[t._v(t._s(t.countDown))]),t._v("）")])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"tip2"===t.tipContent,expression:"tipContent === 'tip2'"}],staticClass:"tip tip2"},[i("img",{attrs:{src:o("erZM"),alt:""}}),t._v(" "),i("p",[t._v("抓到的娃娃可以到“娃娃”中查看，是否现在查看？")]),t._v(" "),t.after?t._e():i("i",{staticClass:"iconfont icon-guanbi",staticStyle:{position:"absolute",right:"0.36rem",top:"0.36rem","font-size":"0.6rem"},on:{click:t.abandonGame}}),t._v(" "),i("ul",{staticClass:"tip-bottom"},[t.after?i("li",{on:{click:t.closeTip}},[t._v("稍后再看")]):i("li",{on:{click:t.continueGame}},[t._v("再来一局（"),i("i",[t._v(t._s(t.countDown))]),t._v("）")]),t._v(" "),i("li",{on:{click:t.goDolllist}},[i("span",[t._v("去看娃娃")])])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{staticClass:"background_music",attrs:{loop:""}},[e("source",{attrs:{src:o("jbMx"),type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{staticClass:"catch_failed"},[e("source",{attrs:{src:o("q1Ip"),type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{staticClass:"catch_success"},[e("source",{attrs:{src:o("yFdH"),type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{staticClass:"ready_go"},[e("source",{attrs:{src:o("+VwD"),type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{staticClass:"moving"},[e("source",{attrs:{src:o("8Zty"),type:"audio/mp3"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{staticClass:"after_catch"},[e("source",{attrs:{src:o("FYap"),type:"audio/mp3"}})])}]};var f=o("8AGX")(g,v,!1,function(t){o("ny3S")},"data-v-b20ebd02",null);e.default=f.exports},FYap:function(t,e,o){t.exports=o.p+"static/media/after_catch.93ad237.mp3"},KjHb:function(t,e,o){t.exports=o.p+"static/img/image_sad.421c26a.png"},erZM:function(t,e,o){t.exports=o.p+"static/img/image_happy.7a1e90d.png"},jbMx:function(t,e,o){t.exports=o.p+"static/media/background_music.9224aed.mp3"},ny3S:function(t,e){},q1Ip:function(t,e,o){t.exports=o.p+"static/media/catch_failed.9dfafca.mp3"},yFdH:function(t,e,o){t.exports=o.p+"static/media/catch_success.ec38231.mp3"}});
//# sourceMappingURL=2.a431970616f4c9cc2450.js.map