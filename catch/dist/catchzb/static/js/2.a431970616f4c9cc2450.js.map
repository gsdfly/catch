{"version":3,"sources":["webpack:///./src/assets/music/ready_go.mp3","webpack:///./src/assets/room/room_image_ready.png","webpack:///./src/assets/music/moving.mp3","webpack:///src/components/mqttws.vue","webpack:///./src/components/mqttws.vue?c7a9","webpack:///./src/components/mqttws.vue","webpack:///src/components/room.vue","webpack:///./src/components/room.vue?a0ca","webpack:///./src/components/room.vue","webpack:///./src/assets/music/after_catch.mp3","webpack:///./src/assets/room/image_sad.png","webpack:///./src/assets/room/image_happy.png","webpack:///./src/assets/music/background_music.mp3","webpack:///./src/assets/music/catch_failed.mp3","webpack:///./src/assets/music/catch_success.mp3"],"names":["module","exports","__webpack_require__","p","roomId","product_key","timestamp","onConnect","onFailure","MQTTconnect","console","log","responseObject","errorMessage","payloadString","broadcast","disconnect","Message","stringify_default","message","direction","gameEnd","res","clearTimeout","timeout","components_mqttws","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","view","class","forwardclick","isClick","on","touchstart","$event","preventDefault","stopPropagation","gameMove","touchend","gameStop","backclick","leftclick","rightclick","catchclick","gameCatch","stopCatch","_s","gameTime","staticRenderFns","attrs","src","type","src_components_mqttws","normalizeComponent","mqttws","ssrContext","_this","quitRoom","next","regenerator_default","a","wrap","_context","forward","user","coin","musicStatus","_this2","status","app_device","app_key","nonce","version_code","secret","data","init","idName","then","doLogin","getRoomInfo","initScreen","name","play","pause","closeMqtt","stream_id","logout","ZegoClient","nickName","streamList","err","clientWidth","viewHeight","fontSize","_this3","expire","_this4","inter","msg","inter2","startGame","closeTip","_this5","response","online_count","count","user_list","price","msg_body","countDown","abandonGame","gameTotalTime","_this6","_this7","components_room","_e","roomOnline","_l","slice","index","avatar","alt","click","goQuestions","id","data-switch","switchView","high","staticStyle","position","right","top","line-height","background","z-index","padding","roomInfo","start","goRecharge","nickname","appControl","directives","rawName","value","expression","ref","iotMessage","roomChange","clearInter","gameFinish","playMusic","tipContent","continueGame","after","font-size","goDolllist","loop","room_Component","room_normalizeComponent","room","__webpack_exports__"],"mappings":"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","file":"static/js/2.a431970616f4c9cc2450.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ready_go.1a9c888.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/music/ready_go.mp3\n// module id = +VwD\n// module chunks = 2","module.exports = __webpack_public_path__ + \"static/img/room_image_ready.a80a781.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/room/room_image_ready.png\n// module id = /yEk\n// module chunks = 2","module.exports = \"data:audio/mpeg;base64,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AFTr/MKCNMRhMMGRlBgEosy//8f/44LEOGZrxlGpnegAQpAwymEQxqPAQDyIAHPL6//+Yqk0ZDjEYmE2JFwCBhkMNSmzEf//8wXBIw7JYydD4KgCDRKMTQMSpdxjK0YRBv///6D4IAgYHExFF4BCuY5HaYdhc7MwvFlMsXywH////zBoNzDwWwCBJhwCYNA0wNA0xyH0waFgoDB1GyspiChrgxRlTSv/////zE0LDF44zCULjAUBTFgszBUETF4KzB8OgoDoAEAyRL4wHCKRwy4M43FaMOQHKb2Vn///////8aDcxcOsxPEwwIDsxEDsxCI0w6JIz3MAyTMYw9FMzIVsRj+Z4FuYIlMYfFjDyRqtrySKGYaS1TleBDira/j1wz/////////+ZbASZcmwYFEOZeB6ZbpIYsH+a3MCa7OeZrr8awosZtjUYehEYmDWYkEGZCnYZynoaDkYYziMYJGsb+w5DSMrgxxnstXcKAGymCkdWUwUjq5LKhABKJqIQwCNTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+OCxAAAAANIAcAAAExBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/music/moving.mp3\n// module id = 8Zty\n// module chunks = 2","<template>\n  <div class=\"index2\">\n    <audio class=\"moving\">\n      <source  src=\"./../assets/music/moving.mp3\" type=\"audio/mp3\">\n    </audio>\n    <audio class=\"after_catch\">\n      <source  src=\"./../assets/music/after_catch.mp3\" type=\"audio/mp3\">\n    </audio>\n    <div class=\"gameOperation\">\n      <div v-if=\"view === 'front'\">\n        <button class=\"forward\" @touchstart.prevent.stop=\"gameMove('forward')\"\n                :class=\"{'forwardclick':isClick==='forward'}\" @touchend=\"gameStop('forward')\">前\n        </button>\n        <button class=\"back\" @touchstart.prevent.stop=\"gameMove('back')\" :class=\"{'backclick':isClick==='back'}\"\n                @touchend=\"gameStop('back')\">后\n        </button>\n        <button class=\"left\" @touchstart.prevent.stop=\"gameMove('left')\" :class=\"{'leftclick':isClick==='left'}\"\n                @touchend=\"gameStop('left')\">左\n        </button>\n        <button class=\"right\" @touchstart.prevent.stop=\"gameMove('right')\" :class=\"{'rightclick':isClick==='right'}\"\n                @touchend=\"gameStop('right')\">右\n        </button>\n      </div>\n      <div v-else>\n        <button class=\"forward\" @touchstart.prevent.stop=\"gameMove('forward')\"\n                :class=\"{'forwardclick':isClick==='forward'}\" @touchend=\"gameStop('forward')\">前\n        </button>\n        <button class=\"back\" @touchstart.prevent.stop=\"gameMove('back')\" :class=\"{'backclick':isClick==='back'}\"\n                @touchend=\"gameStop('back')\">后\n        </button>\n        <button class=\"right\" @touchstart.prevent.stop=\"gameMove('right')\" :class=\"{'rightclick':isClick==='right'}\"\n                @touchend=\"gameStop('right')\">左\n        </button>\n        <button class=\"left\" @touchstart.prevent.stop=\"gameMove('left')\" :class=\"{'leftclick':isClick==='left'}\"\n                @touchend=\"gameStop('left')\">右\n        </button>\n      </div>\n      <button class=\"catch\" @touchstart.prevent.stop=\"gameCatch\" :class=\"{'catchclick':isClick === 'catch'}\"\n              @touchend=\"stopCatch\">GO\n      </button>\n      <p class=\"countDown\">{{gameTime}}'</p>\n    </div>\n  </div>\n</template>\n\n<script>\n  import CryptoJS from 'crypto-js'\n  import CONFIG from './../config/config'\n  import util from './../util/index'\n  import {queryStatus} from './../api/index'\n\n  export default {\n    name: 'mqttws',\n    data() {\n      return {\n        isClick: '',//按钮是否在点击态\n        timeout:{},\n        startTime: 0,\n        endTime: 0,\n        reconnectTimeout: 2000,         //连接失败或超时时重连时间\n        client: {},\n        broadcast: '/broadcast/' + this.appControl.product_key + '/' + this.roomId,\n        gainTopic: '/' + this.appControl.product_key + '/' + this.appControl.device_name + '/get',//获取消息订阅的主题\n        sendTopic: '/' + this.appControl.product_key + '/' + this.appControl.device_name + '/control_test',//发送消息订阅的主题\n        options: {\n          userName: this.appControl.device_name + '&' + this.appControl.product_key,\n          password: util.getIotSign(this.roomId, this.appControl, CONFIG.app.timestamp),\n          onSuccess: this.onConnect,\n          onFailure: this.onFailure,\n          reconnect: true\n        },\n//        options: {\n//          userName: 'DIANA_10000014&UKVbpSHLp9j',\n//          password:util.getIotSign('CATCH_1_100017',{\"product_key\": \"UKVbpSHLp9j\",\n//            \"device_name\": \"DIANA_10000014\",\n//            \"device_secret\": \"rv19mqdj9fxqdaVENeCsm0W9Vfd9yOOr\"},789),\n////          password:'edac6a5d47afc9eaf69fc769efe228a0d5e5931d',\n//          onSuccess: this.onConnect,\n//          onFailure: this.onFailure,\n//          reconnect:true,\n////          mqttVersion:4\n////          keepAliveInterval:600\n//        },\n      }\n    },\n    props: ['appControl', 'roomId', 'view', 'gameTime', 'gameEnd', 'status'],\n    created() {\n      if (this.status !== 2) {\n        this.MQTTconnect();\n      }\n//      queryStatus({'room_id':this.roomId}).then((res)=>{\n//        console.log(res)\n//      })\n//      console.log(this.gameEnd);\n    },\n    methods: {\n      MQTTconnect() {\n//        this.client =  new Paho.MQTT.Client(\"UKVbpSHLp9j.iot-as-mqtt.cn-shanghai.aliyuncs.com\", Number(443), 'CATCH_1_100017|securemode=3,signmethod=hmacsha1,timestamp=789|');\n        this.client = new Paho.MQTT.Client(this.appControl.product_key + \".iot-as-mqtt.cn-shanghai.aliyuncs.com\", Number(443), this.roomId + '|securemode=3,signmethod=hmacsha1,timestamp=' + CONFIG.app.timestamp + '|');\n        this.client.connect(this.options);//连接服务器并注册连接成功处理事件\n        this.client.onConnectionLost = this.onConnectionLost;  //连接丢失时调用\n        this.client.onMessageArrived = this.onMessageArrived;  //收到消息是调用\n      },\n      onConnectionLost: function (responseObject) {\n        if (responseObject.errorCode !== 0)\n          console.log(\"onConnectionLost:\" + responseObject.errorMessage);\n//        setTimeout(this.MQTTconnect, this.reconnectTimeout);\n      },\n      onMessageArrived: function (message) {\n//        console.log(\"收到消息:\" + message.payloadString);\n//        var protocal = message.payloadString.msg_body.protocal;\n        //收到消息是直接触发\n        this.$emit('iotMessage', message.payloadString);\n      },\n      onConnect: function () {\n        console.log(\"onConnected\");\n//        this.client.subscribe('/broadcast/UKVbpSHLp9j/CATCH_1_100017');//订阅广播主题\n        this.client.subscribe(this.broadcast);\n        this.client.subscribe(this.gainTopic);//订阅主题\n      },\n      onFailure(err) {\n        console.log(err);\n//        setTimeout(this.MQTTconnect, this.reconnectTimeout);\n      },\n      closeMqtt() {\n        if (this.client.connect) {\n          this.client.disconnect();\n          console.log('关闭mqtt连接')\n        }\n      },\n      gameStop(direction) {\n        console.log('22222');\n        this.isClick = '';\n//        switch (direction){\n//          case 'left':this.islClick = false;break;\n//          case 'right':this.isrClick = false;break;\n//          case 'forward':this.isrClick = false;break;\n//          case 'back':this.isbClick = false;break;\n//        }\n        this.endTime = (new Date().getTime() / 1000).toFixed(0);\n        var message = new Paho.MQTT.Message(\n          JSON.stringify({\n            \"TargetDevice\": this.roomId,\n//            \"TargetDevice\": \"CATCH_1_101278\",\n            \"MsgType\": \"control\",\n            \"Data\": {\n              \"protocol\": \"remote_move\",\n              \"data\": {\n                \"left\": direction === 'left' ? 2 : 0,\n                \"right\": direction === 'right' ? 2 : 0,\n                \"forward\": direction === 'forward' ? 2 : 0,\n                \"back\": direction === 'back' ? 2 : 0\n              }\n            }\n          }));\n        message.destinationName = this.sendTopic;\n//        message.destinationName = '/UKVbpSHLp9j/DIANA_10000014/control_test'\n        if ((this.endTime - this.startTime) === 0) {\n          console.log('33333')\n          setTimeout(function () {\n            this.client.send(message);\n          }.bind(this), 200);\n        } else {\n          this.client.send(message);\n        }\n      },\n      //移动娃娃机抓子\n      gameMove(direction) {\n//        var moving = document.querySelector('.moving');\n//        moving.play();\n        this.$emit('playMusic','.moving');\n        switch (direction) {\n          case 'left':\n            this.isClick = 'left';\n            break;\n          case 'right':\n            this.isClick = 'right';\n            break;\n          case 'forward':\n            this.isClick = 'forward';\n            break;\n          case 'back':\n            this.isClick = 'back';\n            break;\n        }\n        //当游戏视角切换时左右要互换\n        this.startTime = (new Date().getTime() / 1000).toFixed(0);\n        console.log('1111');\n        var message = new Paho.MQTT.Message(\n          JSON.stringify({\n            \"TargetDevice\": this.roomId,\n//            \"TargetDevice\": \"CATCH_1_101278\",\n            \"MsgType\": \"control\",\n            \"Data\": {\n              \"protocol\": \"remote_move\",\n              \"data\": {\n                \"left\": direction === 'left' ? 1 : 0,\n                \"right\": direction === 'right' ? 1 : 0,\n                \"forward\": direction === 'forward' ? 1 : 0,\n                \"back\": direction === 'back' ? 1 : 0\n              }\n            }\n          }));\n        message.destinationName = this.sendTopic;\n//        message.destinationName = '/UKVbpSHLp9j/DIANA_10000014/control_test'\n        this.client.send(message);\n      },\n      //下抓\n      gameCatch() {\n//        var afterCatch = document.querySelector('.after_catch');\n//        afterCatch.play();\n        this.$emit('playMusic','.after_catch');\n        console.log('ddddd');\n        this.isClick = 'catch';\n        var message = new Paho.MQTT.Message(JSON.stringify(\n          {\n            \"TargetDevice\": this.roomId,\n//            \"TargetDevice\": \"CATCH_1_101278\",\n            \"MsgType\": \"control\",\n            \"Data\": {\n              \"protocol\": \"remote_catch\",\n              \"data\": {\n                \"catch_force\": 0    //下抓操作, 1-强抓力; 2-弱抓力\n              }\n            }\n          }));\n        message.destinationName = this.sendTopic;\n//        message.destinationName = '/UKVbpSHLp9j/DIANA_10000014/control_test'\n        this.client.send(message);\n        this.$emit('clearInter');\n        //下抓之后过10s,还没有收到任何返回\n       this.timeout =  setTimeout(() => {\n          console.log('gameEnd-----'+this.gameEnd);\n          if (!this.gameEnd) {\n            queryStatus({'room_id': this.roomId}).then((res) => {\n              console.log(res)\n              //空闲中的话，弹出游戏结束\n              if (res.response.is_playing === 0) {\n                this.$emit('gameFinish', '{\"msg_body\":{\"protocol\":\"game_finish\",\"data\":{\"expire\":' + res.response.expire + '}}}');\n              } else {\n                //有人在玩的话重新获取房间信息\n                this.$emit('getRoomInfo');\n              }\n            })\n          }\n        }, 10000);\n      },\n      stopCatch() {\n        this.isClick = '';\n      },\n      clearTimeout(){\n        console.log(JSON.stringify(this.timeout));\n        if(JSON.stringify(this.timeout) !== '{}'){\n          clearTimeout(this.timeout);\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .gameOperation {\n    position: relative;\n    .countDown {\n      color: #f16cc0;\n      font-size: 0.84rem;\n      position: absolute;\n      right: 0.05rem;\n      //top:-0.6rem;\n      top: -1.1rem;\n      text-shadow: 1px 1px 1px #fff;\n      z-index: 999;\n    }\n  }\n\n  button {\n    width: 1.76rem;\n    height: 1.76rem;\n    outline: none;\n    border: none;\n    font-size: 0;\n    position: absolute;\n    z-index: 3;\n  }\n\n  .forward {\n    top: -1.3rem;\n    left: 2rem;\n    background: url(\"./../assets/mqtt/direction_press_up.png\") no-repeat;\n    background-size: 100% 100%;\n  }\n\n  .back {\n    top: 1.5rem;\n    left: 2rem;\n    background: url(\"./../assets/mqtt/direction_press_down.png\") no-repeat;\n    background-size: 100% 100%;\n  }\n\n  .left {\n    top: 0.1rem;\n    left: 0.5rem;\n    background: url(\"./../assets/mqtt/direction_press_right.png\") no-repeat;\n    background-size: 100% 100%;\n  }\n\n  .right {\n    top: 0.1rem;\n    left: 3.5rem;\n    background: url(\"./../assets/mqtt/direction_press_left.png\") no-repeat;\n    background-size: 100% 100%;\n  }\n\n  .catch {\n    width: 2.04rem;\n    height: 2.04rem;\n    right: 0.3rem;\n    top: 0.4rem;\n    background: url(\"./../assets/mqtt/press_catch.png\") no-repeat;\n    background-size: 100% 100%;\n  }\n\n  .forwardclick {\n    background: url(\"./../assets/mqtt/direction_press_up_click.png\") no-repeat;\n    background-size: 100% 100%;\n  }\n\n  .backclick {\n    background: url(\"./../assets/mqtt/direction_press_down_click.png\") no-repeat;\n    background-size: 100% 100%;\n  }\n\n  .leftclick {\n    background: url(\"./../assets/mqtt/direction_press_left_click.png\") no-repeat;\n    background-size: 100% 100%;\n  }\n\n  .rightclick {\n    background: url(\"./../assets/mqtt/direction_press_right_click.png\") no-repeat;\n    background-size: 100% 100%;\n  }\n\n  .catchclick {\n    background: url(\"./../assets/mqtt/press_catch_click.png\") no-repeat;\n    background-size: 100% 100%;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/mqttws.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index2\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"gameOperation\"},[(_vm.view === 'front')?_c('div',[_c('button',{staticClass:\"forward\",class:{'forwardclick':_vm.isClick==='forward'},on:{\"touchstart\":function($event){$event.preventDefault();$event.stopPropagation();_vm.gameMove('forward')},\"touchend\":function($event){_vm.gameStop('forward')}}},[_vm._v(\"前\\n      \")]),_vm._v(\" \"),_c('button',{staticClass:\"back\",class:{'backclick':_vm.isClick==='back'},on:{\"touchstart\":function($event){$event.preventDefault();$event.stopPropagation();_vm.gameMove('back')},\"touchend\":function($event){_vm.gameStop('back')}}},[_vm._v(\"后\\n      \")]),_vm._v(\" \"),_c('button',{staticClass:\"left\",class:{'leftclick':_vm.isClick==='left'},on:{\"touchstart\":function($event){$event.preventDefault();$event.stopPropagation();_vm.gameMove('left')},\"touchend\":function($event){_vm.gameStop('left')}}},[_vm._v(\"左\\n      \")]),_vm._v(\" \"),_c('button',{staticClass:\"right\",class:{'rightclick':_vm.isClick==='right'},on:{\"touchstart\":function($event){$event.preventDefault();$event.stopPropagation();_vm.gameMove('right')},\"touchend\":function($event){_vm.gameStop('right')}}},[_vm._v(\"右\\n      \")])]):_c('div',[_c('button',{staticClass:\"forward\",class:{'forwardclick':_vm.isClick==='forward'},on:{\"touchstart\":function($event){$event.preventDefault();$event.stopPropagation();_vm.gameMove('forward')},\"touchend\":function($event){_vm.gameStop('forward')}}},[_vm._v(\"前\\n      \")]),_vm._v(\" \"),_c('button',{staticClass:\"back\",class:{'backclick':_vm.isClick==='back'},on:{\"touchstart\":function($event){$event.preventDefault();$event.stopPropagation();_vm.gameMove('back')},\"touchend\":function($event){_vm.gameStop('back')}}},[_vm._v(\"后\\n      \")]),_vm._v(\" \"),_c('button',{staticClass:\"right\",class:{'rightclick':_vm.isClick==='right'},on:{\"touchstart\":function($event){$event.preventDefault();$event.stopPropagation();_vm.gameMove('right')},\"touchend\":function($event){_vm.gameStop('right')}}},[_vm._v(\"左\\n      \")]),_vm._v(\" \"),_c('button',{staticClass:\"left\",class:{'leftclick':_vm.isClick==='left'},on:{\"touchstart\":function($event){$event.preventDefault();$event.stopPropagation();_vm.gameMove('left')},\"touchend\":function($event){_vm.gameStop('left')}}},[_vm._v(\"右\\n      \")])]),_vm._v(\" \"),_c('button',{staticClass:\"catch\",class:{'catchclick':_vm.isClick === 'catch'},on:{\"touchstart\":function($event){$event.preventDefault();$event.stopPropagation();_vm.gameCatch($event)},\"touchend\":_vm.stopCatch}},[_vm._v(\"GO\\n    \")]),_vm._v(\" \"),_c('p',{staticClass:\"countDown\"},[_vm._v(_vm._s(_vm.gameTime)+\"'\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticClass:\"moving\"},[_c('source',{attrs:{\"src\":require(\"./../assets/music/moving.mp3\"),\"type\":\"audio/mp3\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticClass:\"after_catch\"},[_c('source',{attrs:{\"src\":require(\"./../assets/music/after_catch.mp3\"),\"type\":\"audio/mp3\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.6.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-65016757\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.6.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/mqttws.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-65016757\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=styles&index=0!./mqttws.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=script&index=0!./mqttws.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=script&index=0!./mqttws.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-65016757\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=template&index=0!./mqttws.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-65016757\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/mqttws.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"room\">\n    <div v-if=\"musicStatus\">\n      <audio class=\"background_music\" loop>\n        <source  src=\"./../assets/music/background_music.mp3\" type=\"audio/mp3\">\n      </audio>\n      <audio class=\"catch_failed\" >\n        <source  src=\"./../assets/music/catch_failed.mp3\" type=\"audio/mp3\">\n      </audio>\n      <audio class=\"catch_success\" >\n        <source  src=\"./../assets/music/catch_success.mp3\" type=\"audio/mp3\">\n      </audio>\n      <audio class=\"ready_go\">\n        <source src=\"./../assets/music/ready_go.mp3\" type=\"audio/mp3\">\n      </audio>\n      <audio class=\"moving\">\n        <source  src=\"./../assets/music/moving.mp3\" type=\"audio/mp3\">\n      </audio>\n      <audio class=\"after_catch\">\n        <source  src=\"./../assets/music/after_catch.mp3\" type=\"audio/mp3\">\n      </audio>\n    </div>\n    <div class=\"header\">\n      <i class=\"iconfont\"></i>\n      <div class=\"roomusers\">\n        <div>\n          <div class=\"users\">\n            <h3>{{roomOnline.count}}人</h3>\n            <p>在房间</p>\n          </div>\n          <img v-for=\"(user,index) in roomOnline.user_list.slice(0,3)\" :src=\"user.avatar\" alt=\"\" >\n        </div>\n      </div>\n    </div>\n    <div class=\"main\">\n      <i class=\"iconfont icon-question\" @click=\"goQuestions()\"></i>\n      <div class=\"content\">\n        <div class=\"view-wrapper front\" id=\"view-wrapper\">\n          <!-- 视角切换按钮 -->\n          <div @click=\"switchView\" class=\"switch-btn\" id=\"switch-btn\" data-switch=\"1\"></div>\n          <div class=\"frontview-wrapper\" :class=\"{'high':view === 'front'}\">\n            <!-- 正面视图 -->\n            <canvas id=\"frontview\"></canvas>\n          </div>\n          <div class=\"sideview-wrapper\" :class=\"{'high':view === 'side'}\">\n            <!-- 侧面视图 -->\n            <canvas id=\"sideview\"></canvas>\n          </div>\n          <p style=\"position: absolute;right: 0.36rem;top: 0;line-height: 0.5rem;background: #fff;z-index: 999;padding: 0 0.3rem\">在线：{{roomOnline.count}}</p>\n        </div>\n      </div>\n      <div class=\"content2\" v-if=\"showContent\">\n        <div class=\"view-wrapper2\">\n          <p v-if=\"roomInfo.status !== 2\">游戏准备中...</p>\n          <p v-else>当前房间处于离线状态，请更换房间</p>\n          <img src=\"./../assets/room/room_image_ready.png\" alt=\"\">\n        </div>\n      </div>\n    </div>\n    <div class=\"footer footer2\">\n      <div class=\"status status-free\" v-if=\"roomInfo.status === 0 && !start\">\n        <button @click=\"startGame\">开始游戏<span>{{price}}币/次</span></button>\n        <div class=\"recharge\">\n          <p>我的金币</p>\n          <p>{{coin}}</p>\n          <button @click=\"goRecharge\"><span>+</span>充值</button>\n        </div>\n      </div>\n      <div class=\"status status-busy\" v-if=\"roomInfo.status === 1 && !start\">\n           <div class=\"gameuser\">\n             <img :src=\"roomInfo.avatar\" alt=\"\">\n          <div >\n            <h3><span>{{roomInfo.nickname}}</span>游戏中</h3>\n            <p>{{price}}币/次</p>\n          </div>\n        </div>\n        <div class=\"recharge\">\n          <p>我的金币</p>\n          <p>{{coin}}</p>\n          <button @click=\"goRecharge\"><span>+</span>充值</button>\n        </div>\n      </div>\n      <div class=\"status status-control\" v-if=\"appControl.product_key\"  v-show=\"start\" >\n        <mqttws ref=\"mqtt\" :appControl=\"appControl\" :roomId=\"roomId\" :view=\"view\" :status=\"roomInfo.status\" @iotMessage=\"roomChange\" :gameTime=\"gameTime\" :gameEnd=\"gameEnd\" @clearInter=\"clearInter\" @gameFinish=\"roomChange\" @getRoomInfo=\"getRoomInfo\" @playMusic=\"playMusic\"></mqttws>\n      </div>\n    </div>\n    <div class=\"bg\" v-if=\"showTip\">\n      <div class=\"tip tip1\" v-show=\"tipContent === 'tip1'\">\n        <h3>差点儿就抓到了</h3>\n        <img src=\"./../assets/room/image_sad.png\" alt=\"\">\n        <p>还有{{coin}}个币，是否再来一局？</p>\n        <ul class=\"tip-bottom\">\n          <li @click=\"abandonGame\">稍后再试</li>\n          <li @click=\"continueGame\"><span>再来一局（<i>{{countDown}}</i>）</span></li>\n        </ul>\n      </div>\n      <div class=\"tip tip2\" v-show=\"tipContent === 'tip2'\">\n        <img src=\"./../assets/room/image_happy.png\" alt=\"\">\n        <p>抓到的娃娃可以到“娃娃”中查看，是否现在查看？</p>\n        <i v-if=\"!after\" class=\"iconfont icon-guanbi\" style=\"position: absolute;right: 0.36rem;top: 0.36rem;font-size: 0.6rem\" @click=\"abandonGame\"></i>\n        <ul class=\"tip-bottom\">\n          <li v-if=\"!after\" @click=\"continueGame\">再来一局（<i>{{countDown}}</i>）</li>\n          <li @click=\"closeTip\" v-else>稍后再看</li>\n          <li @click=\"goDolllist\"><span>去看娃娃</span></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import CONFIG from './../config/config'\n  import {getLoginToken, registerApp, getRoomInfo, gameStart,abandonGame} from './../api/index'\n  import util from './../util/index'\n  import mqttws from './mqttws.vue'\n  import { mapState } from 'vuex'\n  import {Toast ,MessageBox} from 'mint-ui';\n\n  export default {\n    name: 'room',\n    beforeRouteLeave (to, from , next) {\n      if(to.path.indexOf('questions') !== -1 || to.path.indexOf('dolllist') !== -1 || to.path.indexOf('recharge') !== -1){\n        console.log('111')\n        this.quitRoom();\n        next();\n      }else if(this.start){\n        MessageBox.confirm('当前正在游戏中,确定要退出房间吗？','').then(action => {\n          this.gameEnd = true;\n          setTimeout(async()=>{\n            this.$refs.mqtt.gameCatch();\n            await abandonGame({room_id:this.roomId});\n            this.quitRoom();\n            next();\n          },0);\n        }).catch((err)=>{\n          history.forward();\n        })\n      }else {\n        MessageBox.confirm('确定要退出房间吗？','').then(action => {\n          this.quitRoom();\n          next();\n        }).catch((err)=>{\n          history.forward();\n        })\n      }\n    },\n    data() {\n      return {\n        start: false,\n        token: '',\n        showTip:false,\n        countDown:10,\n        price:1,\n        zg: {},\n        appControl: {},\n        view: 'front',\n        roomId: '',\n        roomInfo: {},\n        tipContent:'',\n        gameTime:30,\n        gameEnd:false,\n        gameTotalTime:30,\n        streamList:[],//视频流列表\n        after:false,\n        inter:{}, //游戏倒计时的定时器\n        inter2:{},//是否继续游戏倒计时\n        showContent:true,\n        roomOnline: {\n          count: 0,\n          user_list: []\n        }\n      }\n    },\n    computed: mapState({\n      user: state => state.user.user,\n      coin: state => state.user.coin,\n      musicStatus:state => state.user.musicStatus\n    }),\n    components: {\n      mqttws\n    },\n    created() {\n      this.roomId = this.$route.query.roomId;\n      this.roomInfo.status = this.$route.query.status;\n      //注册控制端\n      registerApp({\n//        \"comi_bypass\":\"comicool_5107\",\n        \"app_device\": CONFIG.app.app_device,\n        \"app_key\":CONFIG.app.app_key,\n        \"nonce\": CONFIG.app.nonce,\n        \"timestamp\": CONFIG.app.timestamp,\n        \"version_code\": CONFIG.app.version_code,\n        \"sign\": util.getRegisterAppSign(CONFIG.app.app_device,CONFIG.app.app_key, CONFIG.app.nonce, CONFIG.app.timestamp, CONFIG.app.version_code, CONFIG.app.secret)\n      }).then((res) => {\n        this.appControl = res.data;\n      });\n      this.init()\n      getLoginToken({\n        app_id: CONFIG.jg.appid,\n//        app_id:3265350344,\n        id_name: CONFIG.jg.idName\n      }).then((res) => {\n        this.token = res;\n        this.doLogin();\n      });\n      this.getRoomInfo();\n    },\n    mounted() {\n      this.initScreen();\n    },\n    methods: {\n      test(){\n        this.gameEnd = true;\n      },\n      playMusic(name){\n        var music = document.querySelector(name);\n        if(music){\n          music.play();\n        }\n      },\n      stopMusic(name){\n        var music = document.querySelector(name);\n        if(music){\n          music.pause();\n          music.currentTime = 0;\n        }\n      },\n      //关闭mqtt连接，停止播放流及退出房间\n      quitRoom(){\n        this.$refs.mqtt.closeMqtt();\n        if(this.roomInfo.status !== 2){\n          this.zg.stopPlayingStream(this.streamList[0].stream_id)\n          this.zg.stopPlayingStream(this.streamList[1].stream_id)\n          this.zg.logout();\n        }\n      },\n      init() {\n        this.zg = new ZegoClient();\n        // 1.配置参数\n        this.zg.config({\n          appid: CONFIG.jg.appid,\n//          appid:3265350344,\n          idName: CONFIG.jg.idName,\n          nickName: CONFIG.jg.nickName,\n          server: CONFIG.jg.server,\n//          server:'ws://106.15.41.49:8181/ws',\n          logLevel: 1,\n          logUrl: ''\n        });\n      },\n      doLogin() {\n        this.zg.login(this.roomId, 0, this.token, function (streamList) {\n          console.log('login sucess - data = ', streamList);\n          this.streamList = streamList;\n          this.zg.startPlayingStream(streamList[0].stream_id, util.getById('frontview'));\n          this.zg.startPlayingStream(streamList[1].stream_id, util.getById('sideview'));\n          this.showContent = false;\n        }.bind(this), function (err) {\n          console.log('login error - data = ', err);\n        });\n      },\n      initScreen() {\n        if (!navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)) {\n          document.getElementsByTagName('html')[0].style.width = 375 + 'px';\n          document.getElementsByTagName('html')[0].style.maxHeight = 690 + 'px';\n        }\n        // 想要视频满屏，需要canvas的宽高比例和视频的视频流比例一样\n        // 如果视频流为高640，宽480，那么比例为640/480 = 1.33\n        // 这样，canvas的高和宽的比例也必须是1.33\n\n        // 在本例子中，使用rem布局，浏览器会有一个计算过程，此时动态获取的viewWidth并不准确, 会偏小一点\n        // 有一定的误差，所以设置的viewHeight的时候，用的比例是1.3， 如果用的1.33，那么渲染出来的视频上下处可能会有黑边\n        var viewWrapper = document.querySelector('.view-wrapper');\n        var viewWrapper2 = document.querySelector('.view-wrapper2');\n\n        var footer = document.querySelector('.footer2');\n        var viewWidth = viewWrapper.clientWidth;\n\n        var viewHeight = viewWidth * 1.33;\n        var footerHight = document.body.clientHeight - viewHeight;\n        var fontSize = document.getElementsByTagName('html')[0].style.fontSize;\n        var index = fontSize.indexOf('p');\n        var marginTop = Number(fontSize.substr(0,index))*0.3;\n        viewWrapper.style.height = viewHeight + 'px';\n        viewWrapper2.style.height = viewHeight + 'px';\n        footer.style.height = footerHight - marginTop + 'px';\n      },\n      switchView() {\n        if (this.view === 'front') {\n          this.view = 'side'\n        } else {\n          this.view = 'front'\n        }\n      },\n      startGame() {\n        this.gameEnd = false;\n        this.$refs.mqtt.clearTimeout();\n//        this.countDown = 10;\n        this.$store.dispatch('gameStart',{\n          \"room_id\": this.roomId,\n          \"app_device\": CONFIG.app.app_device,\n          \"app_key\":unescape(CONFIG.app.app_key),\n        }).then((res)=>{\n          console.log(res);\n          console.log('开始游戏成功：' + JSON.stringify(res));\n          //播放音频\n          this.playMusic('.background_music');\n          this.playMusic('.ready_go');\n          this.start = true;\n          this.roomInfo = {status:2};\n          this.gameTotalTime = res.response.expire;\n          this.gameTime= res.response.expire; //游戏时间\n         this.inter =  setInterval(function () {\n            this.gameTime--;\n            if(this.gameTime === 0){\n              this.$refs.mqtt.gameCatch();\n              setTimeout(()=>{\n                this.$refs.mqtt.stopCatch();\n              },0);\n              clearInterval(this.inter)\n            }\n          }.bind(this),1000);\n        }).catch((err)=>{\n          console.log('开始游戏失败：' + JSON.stringify(err));\n          Toast({\n            message: err.msg,\n            position:'bottom'\n          });\n        })\n      },\n      continueGame(){\n        clearInterval(this.inter2);\n        this.startGame();\n        this.closeTip();\n      },\n      getRoomInfo() {\n        getRoomInfo({'room_id': this.roomId, app_key: unescape(CONFIG.app.app_key),app_device:CONFIG.app.app_device}).then((res) => {\n          console.log(res)\n          this.roomInfo = res.response;\n          this.roomOnline.count = res.response.online_count;\n          console.log('---------------'+ this.roomOnline.count );\n          this.roomOnline.user_list = res.response.user_list;\n          this.price = res.response.price;\n        }).catch((err)=>{\n          alert('错误信息'+JSON.stringify(err))\n        })\n      },\n      roomChange(message) {\n        message = JSON.parse(message);\n        console.log('---------------------------------');\n        console.log(message);\n        console.log('---------------------------------');\n        var msg_body = message.msg_body;\n        console.log(msg_body);\n        if (msg_body.protocol === 'update_room_online') {\n          //更新房间当前人员信息\n          console.log('更新房间当前人员信息');\n          this.roomOnline = msg_body.data;\n        } else if (msg_body.protocol === 'room_idle') {\n          //通知所有用户当前房间已经闲置\n          console.log('通知所有用户当前房间已经闲置')\n          this.roomInfo = {status:0};\n          this.start = false;\n        } else if (msg_body.protocol === 'game_finish') {\n          //通知当前玩的用户游戏已经结束\n          this.playMusic('.catch_failed');\n          this.gameEnd = true;\n          this.countDown = msg_body.data.expire;\n          setTimeout(function () {\n            if(this.tipContent === ''){\n              console.log('通知当前玩的用户游戏已经结束');\n              this.showTip = true;\n              this.tipContent = 'tip1';\n//              this.start = false;\n              this.inter2 =  setInterval(function () {\n                this.countDown--;\n                if(this.countDown === 0){\n                  this.abandonGame();\n                }\n              }.bind(this),1000);\n              this.gameTime=this.gameTotalTime;\n              console.log('游戏结束');\n            }\n          }.bind(this),1000);\n          //游戏结束延时\n        } else if (msg_body.protocol === 'gift_change') {\n          this.playMusic('.catch_success');\n          //通知当前玩的用户礼品掉落\n          console.log('通知当前玩的用户礼品掉落');\n          this.gameEnd = true;\n          this.after = false;\n          this.showTip = true;\n          this.tipContent = 'tip2';\n          this.inter2 =  setInterval(function () {\n            this.countDown--;\n            if(this.countDown === 0){\n              this.after = true;\n              abandonGame({room_id:this.roomId}).then((res) => {\n                this.start = false;\n                this.roomInfo = {status:0};\n                clearInterval(this.inter2);\n              })\n            }\n          }.bind(this),1000);\n          console.log('恭喜你抓到娃娃');\n        } else if (msg_body.protocol === 'update_playing') {\n          //更新当前玩游戏人员信息\n          console.log('更新当前玩游戏人员信息');\n          console.log('更新当前游戏人员');\n          this.roomInfo = msg_body.data;\n          this.roomInfo.status = 1;\n        }\n      },\n      abandonGame(){\n        abandonGame({room_id:this.roomId}).then((res) => {\n          this.stopMusic('.background_music');\n          console.log(res);\n          this.closeTip();\n          this.start = false;\n          this.roomInfo = {status:0};\n          clearInterval(this.inter2);\n        })\n      },\n      closeTip(){\n        this.showTip = false;\n        this.tipContent = '';\n      },\n      goDolllist(){\n        this.abandonGame();\n        this.$router.push('/index/dolllist');\n      },\n      clearInter(){\n        clearInterval(this.inter);\n//        this.gameTime=30;\n      },\n      goQuestions(){\n        this.$router.push('/questions');\n      },\n      goRecharge(){\n//        this.$router.push('/questions');\n        this.$router.push('/index/recharge');\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @mixin center {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  @mixin verticalCenter {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n  .icon-question{\n    position: absolute;\n    right: 0.36rem;\n    top:1rem;\n    z-index: 777;\n    width: 0.6rem;\n    height: 0.6rem;\n    background: #fff;\n  }\n  .is-active{\n    background: red!important;\n  }\n  .room {\n    width: 100%;\n    height: 100%;\n    background: #ffe6f6;\n    padding: 0.1px;\n    .bg{\n      width: 100%;\n      height: 100%;\n      background: rgba(0,0,0,0.5);\n      position: fixed;\n      left: 0;\n      top:0;\n      z-index: 999;\n      .tip{\n        width: 8.88rem;\n        height: 11.82rem;\n        background: #fff;\n        @include center;\n        border-radius: 0.3rem;\n        position: relative;\n        padding: 0.75rem 0.75rem 0 0.75rem;\n        h3{\n          font-size: 0.48rem;\n          text-align: center;\n          margin: 0 0 0.8rem 0;\n        }\n        img{\n          width: 4.57rem;\n          display: block;\n          margin:0 auto 0.9rem auto;\n        }\n        p{\n          text-align: center;\n          font-size: 0.48rem;\n          color: #707070;\n        }\n        ul{\n          width: 100%;\n          height: 0.78rem;\n          position: absolute;\n          left: 0;\n          bottom: 0.54rem;\n          li{\n            width: 50%;\n            float: left;\n            font-size: 0.48rem;\n            line-height: 0.78rem;\n            border-right: 1px solid #d1d1d1;\n            color: #707070;\n            text-align: center;\n            span{\n              color:#ff78cd;\n            }\n            &:last-of-type{\n              border-right: none;\n            }\n          }\n        }\n      }\n      .tip1{\n        img{\n          width: 5.3rem;\n        }\n      }\n    }\n    .header {\n      display: none;\n      width: 100%;\n      height: 1.26rem;\n      background: #ff9ccf;\n      .roomusers {\n        width: 5.22rem;\n        height: 100%;\n        background: #ffe6f6;\n        margin: 0 auto;\n        padding: 0.18rem 0.36rem 0 0.36rem;\n        border-radius: 0.3rem 0.3rem 0 0;\n        text-align: center;\n        > div {\n          width: 100%;\n          height: 100%;\n          .users {\n            width: 1.4rem;\n            float: left;\n            h3 {\n              font-size: 0.44rem;\n              line-height: 0.44rem;\n              color: #494949;\n            }\n            p {\n              font-size: 0.38rem;\n              line-height: 0.38rem;\n              color: #999;\n              margin: 0.09rem 0 0 0;\n            }\n          }\n          img {\n            width: 0.96rem;\n            height: 0.96rem;\n            border-radius: 50%;\n            border: 1px solid #fff;\n            float: left;\n            margin: 0 0.1rem 0 0;\n            display: block;\n            &:last-of-type {\n              margin: 0;\n            }\n          }\n        }\n      }\n    }\n    .high {\n      z-index: 666;\n    }\n    .main {\n      width: 100%;\n      /*height: calc(100% - 4.56rem);*/\n      position: relative;\n      /*background: blue;*/\n      /*margin: 0.2rem 0 0 0;*/\n      margin: 8px 0 0 0;\n      .content {\n        padding: 0 0.36rem;\n        width: 100%;\n//        @include center;\n        overflow: hidden;\n        .switch-btn {\n          position: absolute;\n          width: 1.18rem;\n          height: 1.18rem;\n          z-index: 777;\n          border: none;\n          outline: none;\n          @include verticalCenter;\n          right: 0.36rem;\n          background: url(\"./../assets/room/wawa_icon_camera.png\") no-repeat;\n          background-size: 100% 100%;\n        }\n        .view-wrapper {\n          overflow: hidden;\n          background: #fff;\n          border-radius: 0.18rem;\n          width: 100%;\n          .frontview-wrapper, .sideview-wrapper {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            padding: 0 0.36rem;\n            canvas {\n              width: 100%;\n              height: 100%;\n              border-radius: 0.18rem;\n            }\n          }\n        }\n      }\n      .content2{\n        padding: 0 0.36rem;\n        width: 100%;\n        z-index:999;\n        @include center;\n        overflow: hidden;\n        >div{\n          background: #ffbdde;\n          border-radius: 0.18rem;\n          padding: 0.1px;\n          width: 100%;\n          p{\n            font-size: 0.52rem;\n            color: #494949;\n            margin: 30% 0 0 0;\n            text-align: center;\n          }\n          img{\n            width: 5.6rem;\n            @include center;\n          }\n        }\n      }\n    }\n    .footer {\n      width: 100%;\n      /*height: 3.3rem;*/\n      position: relative;\n      .status {\n        width: 100%;\n        height: 100%;\n        /*position: absolute;*/\n        /*left: 0;*/\n        /*top: 0;*/\n        padding: 0 0.66rem;\n        min-height: 2rem; //新增\n        z-index:999; //新增\n        @include verticalCenter;\n        > button {\n          width: 7.08rem;\n          height: 1.74rem;\n          background: url(\"./../assets/room/press_begin.png\") no-repeat;\n          background-size: 100% 100%;\n          border: none;\n          outline: none;\n          color: #fff;\n          font-size: 0.62rem;\n          @include verticalCenter;\n          span {\n            display: block;\n            font-size: 0.4rem;\n          }\n        }\n        .gameuser {\n          width: 7.08rem;\n          height: 1.74rem;\n          background: url(\"./../assets/room/room_press_begin_un.png\") no-repeat;\n          background-size: 100% 100%;\n          @include verticalCenter;\n          img {\n            width: 1.32rem;\n            height: 1.32rem;\n            border: 1px solid #fff;\n            border-radius: 50%;\n            @include verticalCenter;\n            left: 0.6rem;\n          }\n          > div {\n            text-align: center;\n            margin: 0.3rem 0 0 1.92rem;\n            h3 {\n              font-size: 0.48rem;\n              color: #f972c7;\n              span {\n                color: #707070;\n                margin: 0 0.2rem 0 0;\n              }\n            }\n            p {\n              font-size: 0.4rem;\n              color: #999;\n            }\n//            @include center;\n          }\n        }\n        .recharge {\n          width: 1.86rem;\n          height: 1.74rem;\n          /*background: red;*/\n          @include verticalCenter;\n          right: 0.66rem;\n          p {\n            font-size: 0.4rem;\n            line-height: 0.5rem;\n            text-align: right;\n            color: #707070;\n          }\n          > button {\n            width: 100%;\n            outline: none;\n            height: 0.72rem;\n            border: 1px solid #f972c7;\n            background: #fff;\n            font-size: 0.45rem;\n            text-align: right;\n            border-radius: 0.5rem;\n            position: relative;\n            padding: 0 0.1rem 0 0;\n            span {\n              width: 0.58rem;\n              height: 0.58rem;\n              border-radius: 50%;\n              font-size: 0.7rem;\n              background: #f972c7;\n              color: #fff;\n              text-align: center;\n              line-height: 0.58rem;\n              @include verticalCenter;\n              left: 0.1rem;\n            }\n          }\n        }\n      }\n      .status-control {\n\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/room.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"room\"},[(_vm.musicStatus)?_c('div',[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_vm._m(4),_vm._v(\" \"),_vm._m(5)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"header\"},[_c('i',{staticClass:\"iconfont\"}),_vm._v(\" \"),_c('div',{staticClass:\"roomusers\"},[_c('div',[_c('div',{staticClass:\"users\"},[_c('h3',[_vm._v(_vm._s(_vm.roomOnline.count)+\"人\")]),_vm._v(\" \"),_c('p',[_vm._v(\"在房间\")])]),_vm._v(\" \"),_vm._l((_vm.roomOnline.user_list.slice(0,3)),function(user,index){return _c('img',{attrs:{\"src\":user.avatar,\"alt\":\"\"}})})],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('i',{staticClass:\"iconfont icon-question\",on:{\"click\":function($event){_vm.goQuestions()}}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"view-wrapper front\",attrs:{\"id\":\"view-wrapper\"}},[_c('div',{staticClass:\"switch-btn\",attrs:{\"id\":\"switch-btn\",\"data-switch\":\"1\"},on:{\"click\":_vm.switchView}}),_vm._v(\" \"),_c('div',{staticClass:\"frontview-wrapper\",class:{'high':_vm.view === 'front'}},[_c('canvas',{attrs:{\"id\":\"frontview\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"sideview-wrapper\",class:{'high':_vm.view === 'side'}},[_c('canvas',{attrs:{\"id\":\"sideview\"}})]),_vm._v(\" \"),_c('p',{staticStyle:{\"position\":\"absolute\",\"right\":\"0.36rem\",\"top\":\"0\",\"line-height\":\"0.5rem\",\"background\":\"#fff\",\"z-index\":\"999\",\"padding\":\"0 0.3rem\"}},[_vm._v(\"在线：\"+_vm._s(_vm.roomOnline.count))])])]),_vm._v(\" \"),(_vm.showContent)?_c('div',{staticClass:\"content2\"},[_c('div',{staticClass:\"view-wrapper2\"},[(_vm.roomInfo.status !== 2)?_c('p',[_vm._v(\"游戏准备中...\")]):_c('p',[_vm._v(\"当前房间处于离线状态，请更换房间\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"./../assets/room/room_image_ready.png\"),\"alt\":\"\"}})])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"footer footer2\"},[(_vm.roomInfo.status === 0 && !_vm.start)?_c('div',{staticClass:\"status status-free\"},[_c('button',{on:{\"click\":_vm.startGame}},[_vm._v(\"开始游戏\"),_c('span',[_vm._v(_vm._s(_vm.price)+\"币/次\")])]),_vm._v(\" \"),_c('div',{staticClass:\"recharge\"},[_c('p',[_vm._v(\"我的金币\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.coin))]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.goRecharge}},[_c('span',[_vm._v(\"+\")]),_vm._v(\"充值\")])])]):_vm._e(),_vm._v(\" \"),(_vm.roomInfo.status === 1 && !_vm.start)?_c('div',{staticClass:\"status status-busy\"},[_c('div',{staticClass:\"gameuser\"},[_c('img',{attrs:{\"src\":_vm.roomInfo.avatar,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',[_c('h3',[_c('span',[_vm._v(_vm._s(_vm.roomInfo.nickname))]),_vm._v(\"游戏中\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.price)+\"币/次\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"recharge\"},[_c('p',[_vm._v(\"我的金币\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.coin))]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.goRecharge}},[_c('span',[_vm._v(\"+\")]),_vm._v(\"充值\")])])]):_vm._e(),_vm._v(\" \"),(_vm.appControl.product_key)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.start),expression:\"start\"}],staticClass:\"status status-control\"},[_c('mqttws',{ref:\"mqtt\",attrs:{\"appControl\":_vm.appControl,\"roomId\":_vm.roomId,\"view\":_vm.view,\"status\":_vm.roomInfo.status,\"gameTime\":_vm.gameTime,\"gameEnd\":_vm.gameEnd},on:{\"iotMessage\":_vm.roomChange,\"clearInter\":_vm.clearInter,\"gameFinish\":_vm.roomChange,\"getRoomInfo\":_vm.getRoomInfo,\"playMusic\":_vm.playMusic}})],1):_vm._e()]),_vm._v(\" \"),(_vm.showTip)?_c('div',{staticClass:\"bg\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tipContent === 'tip1'),expression:\"tipContent === 'tip1'\"}],staticClass:\"tip tip1\"},[_c('h3',[_vm._v(\"差点儿就抓到了\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"./../assets/room/image_sad.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"还有\"+_vm._s(_vm.coin)+\"个币，是否再来一局？\")]),_vm._v(\" \"),_c('ul',{staticClass:\"tip-bottom\"},[_c('li',{on:{\"click\":_vm.abandonGame}},[_vm._v(\"稍后再试\")]),_vm._v(\" \"),_c('li',{on:{\"click\":_vm.continueGame}},[_c('span',[_vm._v(\"再来一局（\"),_c('i',[_vm._v(_vm._s(_vm.countDown))]),_vm._v(\"）\")])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tipContent === 'tip2'),expression:\"tipContent === 'tip2'\"}],staticClass:\"tip tip2\"},[_c('img',{attrs:{\"src\":require(\"./../assets/room/image_happy.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"抓到的娃娃可以到“娃娃”中查看，是否现在查看？\")]),_vm._v(\" \"),(!_vm.after)?_c('i',{staticClass:\"iconfont icon-guanbi\",staticStyle:{\"position\":\"absolute\",\"right\":\"0.36rem\",\"top\":\"0.36rem\",\"font-size\":\"0.6rem\"},on:{\"click\":_vm.abandonGame}}):_vm._e(),_vm._v(\" \"),_c('ul',{staticClass:\"tip-bottom\"},[(!_vm.after)?_c('li',{on:{\"click\":_vm.continueGame}},[_vm._v(\"再来一局（\"),_c('i',[_vm._v(_vm._s(_vm.countDown))]),_vm._v(\"）\")]):_c('li',{on:{\"click\":_vm.closeTip}},[_vm._v(\"稍后再看\")]),_vm._v(\" \"),_c('li',{on:{\"click\":_vm.goDolllist}},[_c('span',[_vm._v(\"去看娃娃\")])])])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticClass:\"background_music\",attrs:{\"loop\":\"\"}},[_c('source',{attrs:{\"src\":require(\"./../assets/music/background_music.mp3\"),\"type\":\"audio/mp3\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticClass:\"catch_failed\"},[_c('source',{attrs:{\"src\":require(\"./../assets/music/catch_failed.mp3\"),\"type\":\"audio/mp3\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticClass:\"catch_success\"},[_c('source',{attrs:{\"src\":require(\"./../assets/music/catch_success.mp3\"),\"type\":\"audio/mp3\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticClass:\"ready_go\"},[_c('source',{attrs:{\"src\":require(\"./../assets/music/ready_go.mp3\"),\"type\":\"audio/mp3\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticClass:\"moving\"},[_c('source',{attrs:{\"src\":require(\"./../assets/music/moving.mp3\"),\"type\":\"audio/mp3\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticClass:\"after_catch\"},[_c('source',{attrs:{\"src\":require(\"./../assets/music/after_catch.mp3\"),\"type\":\"audio/mp3\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.6.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-b20ebd02\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.6.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/room.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b20ebd02\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=styles&index=0!./room.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=script&index=0!./room.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=script&index=0!./room.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b20ebd02\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=template&index=0!./room.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b20ebd02\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/room.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/media/after_catch.93ad237.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/music/after_catch.mp3\n// module id = FYap\n// module chunks = 2","module.exports = __webpack_public_path__ + \"static/img/image_sad.421c26a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/room/image_sad.png\n// module id = KjHb\n// module chunks = 2","module.exports = __webpack_public_path__ + \"static/img/image_happy.7a1e90d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/room/image_happy.png\n// module id = erZM\n// module chunks = 2","module.exports = __webpack_public_path__ + \"static/media/background_music.9224aed.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/music/background_music.mp3\n// module id = jbMx\n// module chunks = 2","module.exports = __webpack_public_path__ + \"static/media/catch_failed.9dfafca.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/music/catch_failed.mp3\n// module id = q1Ip\n// module chunks = 2","module.exports = __webpack_public_path__ + \"static/media/catch_success.ec38231.mp3\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/music/catch_success.mp3\n// module id = yFdH\n// module chunks = 2"],"sourceRoot":""}